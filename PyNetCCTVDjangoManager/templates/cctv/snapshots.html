{% extends "cctv/base.html" %}

{% block content %}

Snapshots per page: 
<a href="snapshots.html?page={{ page }}&per_page=10">10</a> |
<a href="snapshots.html?page={{ page }}&per_page=25">25</a> |
<a href="snapshots.html?page={{ page }}&per_page=100">100</a> |
<a href="snapshots.html?page={{ page }}&per_page=250">250</a>

<br>

{% if objects.has_previous %}
    <a href="?page={{ objects.previous_page_number }}">Previous</a>
{% endif %}

Page {{ objects.number }} of {{ objects.paginator.num_pages }}

{% if objects.has_next %}
    <a href="?page={{ objects.next_page_number }}">Next</a>
{% endif %}

<br><br>

<table>
	<tr>
		<th>Id</th>
		<th>Timestamp</th>
		{% for cam in cameras %}
		    <th>{{ cam.name }}</th>
		{% endfor %}
	</tr>
	
{% for snap in objects.object_list %}
    <tr><th><a href="snapshot.html?snap_id={{ snap.id }}">{{ snap.id }}</a></th>
    	<th>{{ snap.timestamp|date:"D j M H:i:s" }}</th>
    	{% for cam in cameras %}
    		{% if snap.camera == cam %}
    			<td><a href="snapshot.html?snap_id={{ snap.id }}"><img src="{{ MEDIA_URL }}/{{ snap.image }}" width="100"></a></td>
    		{% else %}
    			<td></td>
    		{% endif %}
    	{% endfor %}
    </tr>
{% endfor %}
</table>



{% if objects.has_previous %}
    <a href="?page={{ objects.previous_page_number }}">Previous</a>
{% endif %}

Page {{ objects.number }} of {{ objects.paginator.num_pages }}

{% if objects.has_next %}
    <a href="?page={{ objects.next_page_number }}">Next</a>
{% endif %}

<br>

Snapshots per page: 
<a href="snapshots.html?page={{ page }}&per_page=10">10</a> |
<a href="snapshots.html?page={{ page }}&per_page=25">25</a> |
<a href="snapshots.html?page={{ page }}&per_page=100">100</a> |
<a href="snapshots.html?page={{ page }}&per_page=250">250</a>


{% endblock content %}

